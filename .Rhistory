facet_wrap(~ key)
data %>%
dplyr::select(ChOCI_R_C_sumsym_PRE, ChOCI_R_C_sumimp_PRE))
data %>%
dplyr::select(ChOCI_R_C_sumsym_PRE, ChOCI_R_C_sumimp_PRE)
data %>%
dplyr::select(ChOCI_R_C_sumsym_PRE, ChOCI_R_C_sumimp_PRE) %>%
dplyr::gather
data %>%
dplyr::select(ChOCI_R_C_sumsym_PRE, ChOCI_R_C_sumimp_PRE) %>%
dplyr::gather()
data %>%
dplyr::select(ChOCI_R_C_sumsym_PRE, ChOCI_R_C_sumimp_PRE) %>%
tidyr::gather()
data %>%
dplyr::select(ChOCI_R_C_sumsym_PRE, ChOCI_R_C_sumimp_PRE) %>%
tidyr::gather() %>%
ggplot(ggplot2::aes(x = value)) + geom_density() +
facet_wrap(~ key)
psych::alpha(data_frame(CYBOCS_pre_sum))
psych::alpha(data_frame(data$CYBOCS_pre_sum))
ggplot(data = data_frame(data$CYBOCS_pre_sum), aes(x = CYBOCS_pre_sum)) +
geom_density()
data %>%
select(CYBOCS_pre_sum) %>%
ggplot(aes(x = CYBOCS_pre_sum)) +
geom_density()
data %>%
select(CYBOCS_pre_sum) %>%
ggplot(aes(x = CYBOCS_pre_sum)) +
geom_density() +
geom_vline(xintercept = median(data$CYBOCS_pre_sum))
data %>%
select(CYBOCS_pre_sum) %>%
ggplot(aes(x = CYBOCS_pre_sum)) +
geom_density(fill = red1, alpha = .5) +
geom_vline(xintercept = median(data$CYBOCS_pre_sum)) +
ggtitle("Distribution of CYBOCS_pre_sum with median")
data %>%
select(CYBOCS_pre_sum) %>%
ggplot(aes(x = CYBOCS_pre_sum)) +
geom_density(fill = red1, alpha = .5) +
geom_vline(xintercept = median(data$CYBOCS_pre_sum)) +
ggtitle("Distribution of CYBOCS_pre_sum with median") +
scale_x_continuous(limits = c(0,40))
data %>%
dplyr::select(dplyr::contains("CYBOCS"), -contains("sum"))
data %>%
dplyr::select(dplyr::contains("CYBOCS"), -contains("sum")) %>%
select(-one_of(nzv_vars)) %>%
psych::alpha(ChOCI_items, check.keys = TRUE)
data %>%
dplyr::select(dplyr::contains("CYBOCS"), -contains("sum")) %>%
psych::alpha(ChOCI_items, check.keys = TRUE)
data %>%
dplyr::select(dplyr::contains("CYBOCS"), -contains("sum")) %>%
psych::alpha(., check.keys = TRUE)
data %>%
select(EWSASC_sum_PRE) %>%
ggplot(aes(x = EWSASC_sum_PRE)) + geom_histogram(fill = red1, alpha = .5) +
geom_vline(xintercept = median(data$EWSASC_sum_PRE))
data %>%
select(EWSASC_sum_PRE) %>%
ggplot(aes(x = EWSASC_sum_PRE)) + geom_density(fill = red1, alpha = .5) +
geom_vline(xintercept = median(data$EWSASC_sum_PRE))
data %>%
select(EWSASC_sum_PRE) %>%
ggplot(aes(x = EWSASC_sum_PRE)) + geom_density(fill = red1, alpha = .5) +
geom_vline(xintercept = median(data$EWSASC_sum_PRE)) +
scale_x_continuous(limits = c(0, 40)) +
ggtitle(paste("Distribution of EWSASC_sum_PRE; Median: ", median(data$EWSASC_sum_PRE), sep = ""))
search_string <- "EWSASC"
search_string2 <- "sum"
data %>%
dplyr::select(dplyr::matches(search_string), -matches(search_string2)) %>%
print(psych::alpha(., check.keys = TRUE))
search_string <- "EWSASC"
search_string2 <- "sum"
data %>%
dplyr::select(dplyr::matches(search_string), -matches(search_string2)) %>%
(psych::alpha(., check.keys = TRUE))
search_string <- "EWSASC"
search_string2 <- "sum"
data %>%
dplyr::select(dplyr::matches(search_string), -matches(search_string2)) %>%
psych::alpha(., check.keys = TRUE)
data %>%
dplyr::select(EWSASC_schoolandwork_PRE:EWSASC_family_PRE)) %>%
psych::alpha(., check.keys = TRUE)
data %>%
dplyr::select(EWSASC_schoolandwork_PRE:EWSASC_family_PRE)) %>%
psych::alpha(check.keys = TRUE)
data %>%
dplyr::select(EWSASC_schoolandwork_PRE:EWSASC_family_PRE))
data %>%
dplyr::select(EWSASC_schoolandwork_PRE:EWSASC_family_PRE)
data %>%
dplyr::select(EWSASC_schoolandwork_PRE:EWSASC_family_PRE) %>%
psych::alpha(check.keys = TRUE)
data %>%
dplyr::select(EWSASC_schoolandwork_PRE:EWSASC_family_PRE) %>%
psych::alpha(., check.keys = TRUE)
search_string <- "CYBOCS"
search_string2 <- "sum"
data %>%
dplyr::select(dplyr::matches(search_string), -matches(search_string2)) %>%
print(psych::alpha(., check.keys = TRUE))
data %>%
dplyr::select(EWSASC_schoolandwork_PRE:EWSASC_family_PRE) -> EWSASC_items
psych::alpha(EWSASC_items)
psych::alpha(data.frame(EWSASC_items))
search_string <- "sum"
data %>%
dplyr::select(matches(search_string)) %>%
do(tidy(names(.))) -> names_sumscores
library(broom)
search_string <- "sum"
data %>%
dplyr::select(matches(search_string)) %>%
do(tidy(names(.))) -> names_sumscores
names_sumscores$x
data %>%
select(Depression:GAD) %>%
do(tidy(names(.))) -> names_comorb
data %>%
dplyr::select(group:OCD_treatm_exp, responder_3m, CYBOCS_3m) %>%
do(tidy(names(.))) -> names_basic
search_string <- "sum"
data %>%
select(matches("sum")) -> data_sumscores
gg_geom <- function(x, geom, ...){
ggplot(data_frame(x), aes(x = x)) + geom()
}
lapply(data_sumscore, function(x) gg_geom(x, geom = geom_density))
data_sumscore
data_sumscores
lapply(data_sumscores, function(x) gg_geom(x, geom = geom_density))
gg_geom <- function(x, geom, ...){
ggplot(data_frame(x), aes_string(x = substitute(x))) + geom() + ggtitle(substitute(x))
}
lapply(data_sumscores, function(x) gg_geom(x, geom = geom_density))
gg_geom <- function(x, geom, ...){
eval(ggplot(data_frame(x), aes_string(x = substitute(x))) + geom() + ggtitle(substitute(x)), dat_frame(x), envir = parent.frame())
}
lapply(data_sumscores, function(x) gg_geom(x, geom = geom_density))
gg_geom <- function(x, geom, ...){
eval(ggplot(data_frame(x), aes_string(x = substitute(x))) + geom() + ggtitle(substitute(x)), data_frame(x), envir = parent.frame())
}
lapply(data_sumscores, function(x) gg_geom(x, geom = geom_density))
lapply(data_sumscores, function(x) gg_geom(x, geom = geom_density))
envir
expr
gg_geom <- function(x, geom, ...){
eval(ggplot(data_frame(x), aes_string(x = substitute(x))) + geom() + ggtitle(substitute(x)), data_frame(x))
}
lapply(data_sumscores, function(x) gg_geom(x, geom = geom_density))
glimpse(mtcars)
library(ggplot2)
gg_dens <- function(x){
eval(ggplot(data_frame(x), aes_string(x = substitute(x))) + geom_density() +
ggtitle(substitute(x)), data_frame(x))
}
gg_dens <- function(x){
eval(ggplot(data_frame(x), aes_string(x = substitute(x))) + geom_density() +
ggtitle(substitute(x)), data_frame(x))
}
lapply(mtcars, function(x) gg_geom(x))
lapply(mtcars, function(x) gg_dens(x))
vignette('nse')
gg_dens <- function(x){
eval(ggplot(data.frame(x), aes_string(x = as.character(substitute(x))) + geom_density() +
ggtitle(substitute(x)), data.frame(x))
}
lapply(mtcars, function(x) gg_dens(x))
gg_dens <- function(x){
eval(ggplot(data.frame(x), aes_string(x = as.character(substitute(x))) + geom_density() +
ggtitle(substitute(x)), data.frame(x))
}
lapply(mtcars, function(x) gg_dens(x))
search_string <- "SCAS"
search_string2 <- "sum"
data %>%
dplyr::select(matches(search_string), -matches(search_string2)) %>%
psych::alpha(data_frame(.))
search_string <- "SCAS"
search_string2 <- "sum"
data %>%
dplyr::select(matches(search_string), -matches(search_string2)) %>%
psych::alpha(data.frame(.))
data %>%
dplyr::select(matches(search_string), -matches(search_string2))
data %>%
dplyr::select(matches(search_string), -matches(search_string2)) %>%
psych::alpha(data.frame(.))
data %>%
dplyr::select(matches(search_string), -matches(search_string2)) -> SCAS_items
psych::alpha(data.frame(SCAS_items))
psych::alpha(data.frame(SCAS_items))
search_string <- "CDI"
search_string2 <- "sum"
data %>%
dplyr::select(matches(search_string), -matches(search_string2)) -> CDI_items
psych::alpha(data.frame(CDI_items))
search_string <- "FAS"
search_string2 <- "sum"
data %>%
dplyr::select(matches(search_string), -matches(search_string2)) -> FAS_items
psych::alpha(data.frame(FAS_items))
search_string <- "EWSASP"
search_string2 <- "sum"
data %>%
dplyr::select(matches(search_string), -matches(search_string2)) -> EWSASP_items
psych::alpha(data.frame(EWSASP_items))
for (i in 1:ncol(mtcars))
{
x <- mtcars[,i]
d <- density(x)
plot(d, main=colnames(mtcars)[i])
}
for (i in 1:ncol(mtcars))
{
x <- mtcars[,i]
d <- density(x)
plot(d, main=colnames(mtcars)[i])
}
gg_dens <- function(name, dat) {
ggplot(dat, aes_string(x = name)) + geom_density() + ggtitle(name)
}
lapply(names(mtcars), gg_dens, mtcars)
library(mosaic)
library(readr)
#library(stringr)
#library(ggvis)
library(pander)
library(purrr)
library(caret)
library(broom)
library(psych)
#library(ggstance)
library(knitr)
library(gridExtra)
library(tibble)
library(corrplot)
library(GGally)
library(dplyr)
library(ggplot2)
library(tidyr)
library(gridExtra)
library(DiagrammeR)
gg_dens <- function(name, dat) {
ggplot(dat, aes_string(x = name)) + geom_density() + ggtitle(name)
}
lapply(names(mtcars), gg_dens, mtcars)
# define paths
path_data <- "~/Documents/OneDrive/Forschung/Online_Behavior_Therapy/raw_data"
path_file_data <- "~/Documents/OneDrive/Forschung/Online_Behavior_Therapy/raw_data/BiPOCD_raw_data.csv"
path_code <- "~/Documents/OneDrive/Forschung/Online_Behavior_Therapy/R_code"
path_figs <- "~/Documents/OneDrive/Forschung/Online_Behavior_Therapy/Figures"
path_obj <- "~/Documents/OneDrive/Forschung/Online_Behavior_Therapy/data_objects"
# load data
data <- read_csv(path_file_data)
# constants
red1 <- "#880011"
search_string <- "sum"
data %>%
select(matches("sum")) -> data_sumscores
gg_dens <- function(name, dat, geom, ...) {
ggplot(dat, aes_string(x = name)) + geom() + ggtitle(name)
}
lapply(names(mtcars), gg_dens, mtcars, geom_density)
gg_dens <- function(name, dat, geom, ...) {
ggplot(dat, aes_string(x = name)) + geom() + ggtitle(name)
}
lapply(names(mtcars), gg_dens, mtcars, geom_histogram)
gg_geom <- function(dat, name, geom, ...) {
ggplot(dat, aes_string(x = name)) + geom() + ggtitle(name)
}
data %>%
select_if(negate(is.numeric)) %>%
map(gg_geom(.,., geom_density))
data %>%
select_if(negate(is.numeric)) -> data_numeric
gg_geom <- function(dat, name, geom = geom_density, ...) {
ggplot(dat, aes_string(x = name)) + geom() + ggtitle(name)
}
lapply(names(mtcars), gg_dens, mtcars)
gg_geom <- function(dat, name, geom = geom_density, ...) {
ggplot(dat, aes_string(x = name)) + geom() + ggtitle(name)
}
lapply(names(mtcars), gg_dens, mtcars)
gg_geom <- function(dat, name, geom = geom_density, ...) {
ggplot(dat, aes_string(x = name)) + geom + ggtitle(name)
}
lapply(names(mtcars), gg_dens, mtcars)
gg_geom
gg_geom <- function(dat, name, geom) {
ggplot(dat, aes_string(x = name)) + geom() + ggtitle(name)
}
lapply(names(mtcars), gg_dens, mtcars)
lapply(names(mtcars), gg_dens, mtcars, geom_density)
gg_geom <- function(dat, name, geom,...) {
ggplot(dat, aes_string(x = name)) + geom() + ggtitle(name)
}
lapply(names(mtcars), gg_dens, mtcars, geom_density)
gg_geom <- function(dat, name, geom = geom_density, ...) {
ggplot(dat, aes_string(x = name)) + geom() + ggtitle(name)
}
lapply(names(mtcars), gg_dens, mtcars, geom_density)
lapply(names(mtcars), gg_dens, mtcars)
gg_dens <- function(dat, name, ...){
ggplot(data, aes_string(x = name)) + geom_density() + ggtitle(name)
}
lapply(names(mtcars), gg_geom, mtcars, geom_density)
lapply(names(mtcars), gg_dens, mtcars)
gg_geom <- function(dat, name, geom) {
ggplot(dat, aes_string(x = name)) + geom() + ggtitle(name)
}
lapply(names(mtcars), gg_geom, mtcars, geom_density)
lapply(names(mtcars), gg_dens, mtcars)
gg_dens <- function(dat, name){
ggplot(dat, aes_string(x = name)) + geom_density() + ggtitle(name)
}
lapply(names(mtcars), gg_dens, mtcars)
gg_geom <- function(name, dat, geom) {
ggplot(dat, aes_string(x = name)) + geom() + ggtitle(name)
}
gg_dens <- function(name, dat){
ggplot(dat, aes_string(x = name)) + geom_density() + ggtitle(name)
}
lapply(names(mtcars), gg_geom, mtcars, geom_density)
gg_geom <- function(name, dat, geom = geom_density) {
ggplot(dat, aes_string(x = name)) + geom() + ggtitle(name)
}
lapply(names(mtcars), gg_geom, mtcars, geom_density)
lapply(data_numeric, gg_geom(names(data_numeric), geom_density, data_numeric)
lapply(names(data_numeric), geom_density, data_numeric)
lapply(names(data_numeric), geom_dens, data_numeric)
lapply(names(data_numeric), gg_dens, data_numeric)
lapply(names(data_numeric), gg_geom, data_numeric, geom_bar)
lapply(names(data_numeric), function(x) gg_geomx(x, data_numeric, geom_bar, dplyr::add(coord_flip())))
lapply(names(data_numeric), function(x) gg_geom(x, data_numeric, geom_bar, dplyr::add(coord_flip())))
gg_geom <- function(name, dat, geom = geom_density, ...) {
ggplot(dat, aes_string(x = name)) + geom() + ggtitle(name)
}
gg_dens <- function(name, dat, ...){
ggplot(dat, aes_string(x = name)) + geom_density() + ggtitle(name)
}
lapply(names(mtcars), gg_geom, mtcars, geom_density)
lapply(names(data_numeric), function(x) gg_geom(x, data_numeric, geom_bar, dplyr::add(coord_flip())))
gg_geom <- function(name, dat, geom = geom_density, flip = FALSE, ...) {
p <- ggplot(dat, aes_string(x = name)) + geom() + ggtitle(name)
if (flip == TRUE) p + coord_flip()
return(p)
}
lapply(names(mtcars), gg_geom, mtcars, geom_density)
lapply(names(mtcars), gg_geom, mtcars, geom_density, flip = TRUE)
ggplot(mtcars, aes(x = mpg)) + geom_density()
ggplot(mtcars, aes(x = mpg)) + geom_density() + coord_flip()
gg_geom <- function(name, dat, geom = geom_density, flip = FALSE, ...) {
p <- ggplot(dat, aes_string(x = name)) + geom() + ggtitle(name)
if (flip == TRUE) p <- p + coord_flip()
print(p)
}
lapply(names(mtcars), gg_geom, mtcars, geom_density, flip = TRUE)
gg_geom <- function(name, dat, geom = geom_density, flip = FALSE, ...) {
p <- ggplot(dat, aes_string(x = name)) + geom() + ggtitle(name)
if (flip == TRUE) p <- p + coord_flip()
return(p)
}
lapply(names(mtcars), gg_geom, mtcars, geom_density, flip = TRUE)
lapply(names(data_numeric), function(x) gg_geom(x, data_numeric, geom_bar, flip = TRUE)))
lapply(names(data_numeric), function(x) gg_geom(x, data_numeric, geom_bar, flip = TRUE))
lapply(names(data_sumscores), function(x) gg_geom(x, data_sumscores, geom_density))
names(data_sumscores)
mtcar %>%
select(1:3) %>%
ggpairs
mtcars %>%
select(1:3) %>%
ggpairs
data_sumscores %>%
select_("contains('ChOCI')") %>%
ggpairs
data_sumscores %>%
select_('contains("ChOCI")') %>%
ggpairs
select_(data_sumscores, 'contains("ChOCI")') %>%
ggpairs
select_(data_sumscores, 'starts_with("ChOCI")') %>%
ggpairs
library(dplyr)
select_(data_sumscores, 'starts_with("ChOCI")') %>%
ggpairs
select_(mtcars, "mpg")
select_(mtcars, "contains('mpg')")
select_(mtcars, .dots = "contains('mpg')")
library("lazyeval", lib.loc="~/Rlibs")
select_(iris, lazyeval::interp(~matches(x), x = ".t."))
select_(mtcars, lazyeval::interp(~matches(x), x = "mpg")
)
select_(data_sumscores, lazyeval::interp(~contains(x), x = "ChOCI")) %>%
ggpairs
select_(data_sumscores, lazyeval::interp(~contains(x), x = "ChOCI"))
select_(data_sumscores, lazyeval::interp(~matches(x), x = "ChOCI"))
select_(data_sumscores, lazyeval::interp(~matches(x), x = "ChOCI")) %>%
ggpairs
select_(data_sumscores, responder_3m, lazyeval::interp(~matches(x), x = "ChOCI")) %>%
ggpairs(aes(color = responder_3m))
select_(data, responder_3m, lazyeval::interp(~matches(x), x = "ChOCI")) %>%
ggpairs(aes(color = responder_3m))
select_(data, responder_3m, lazyeval::interp(~matches(x), x = "ChOCI"))
select_(data, 'responder_3m', lazyeval::interp(~matches(x), x = "ChOCI"))
search_string <- "ChOCI"
search_string2 <- "sum"
data %>%
select(-contains(search_string))
data %>%
dplyr::select(-contains(search_string))
dplyr::select(-contains("sum"))
data %>%
dplyr::select(-contains("sum"))
data %>%
dplyr::select(-dplyr::contains("sum"))
apropos("contains")
??contains
find("contains")
?purrr::contains
data %>%
dplyr::select(-!dplyr::contains("sum"))
?dplyr::select
detach("purrr", unload = TRUE)
detach(package = "purrr", unload = TRUE)
?detach
detach(purrr)
library(DT)
install.packages("DT")
search()
data %>%
select(dplyr::contains("ChOCI"), dplyr::contains("sum"))
data %>%
select(dplyr::contains("ChOCI") & dplyr::contains("sum"))
?dplyr::selecdt
?dplyr::select
names(data_sumscores)
select(data, matches("ChOCI_._._sum"))
data %>%
select(data, matches("ChOCI_._._sum"), responder_3m)
data %>%
select(data, matches("ChOCI_._._sum"), responder_3m)
data %>%
select(data, matches("ChOCI_._._sum"), responder_3m)
data %>%
select(matches("ChOCI_._._sum"), responder_3m)
data %>%
select(matches("ChOCI_._._sum"), responder_3m) %>%
ggpairs(aes(color = responder_3m))
data %>%
select(matches("ChOCI_._._sum"), responder_3m) %>%
ggpairs()
data %>%
select(matches("ChOCI_._._sum"), responder_3m) %>%
na.omit() %>%
ggpairs()
data %>%
select(matches("ChOCI_._._sum"), responder_3m) %>%
na.omit() %>%
ggpairs(mapping = aes(color = factor(responder_3m)))
data %>%
select(matches("ChOCI_._._sum"), responder_3m) %>%
na.omit() %>%
mutate(responder_3m = factor(responder_3m)) %>%
ggpairs(mapping = aes(color = responder_3m))
data %>%
select(matches("ChOCI_._._sum"), responder_3m) %>%
na.omit() %>%
mutate(responder_3m = factor(responder_3m)) %>%
ggpairs(mapping = aes(color = responder_3m), alpha = .5)
vgrViz("
digraph test {
# a 'graph' statement
graph [overlap = true,
rankdir = LR,
fontsize = 10]
# several 'node' statements
node [shape = circle,
fontname = Helvetica]
demographics; scales; comorbidities; response; treatment
# several 'edge' statements
demographics -> response
scales -> response
comorbidities -> response
treatment -> response
}
")
grViz("
digraph test {
# a 'graph' statement
graph [overlap = true,
rankdir = LR,
fontsize = 10]
# several 'node' statements
node [shape = circle,
fontname = Helvetica]
demographics; scales; comorbidities; response; treatment
# several 'edge' statements
demographics -> response
scales -> response
comorbidities -> response
treatment -> response
}
")
setwd("~/Documents/OneDrive/Forschung/Online_Behavior_Therapy")
